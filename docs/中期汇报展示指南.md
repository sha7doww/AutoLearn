# SmartPath 中期汇报展示指南

## 一、已实现功能总览

根据中期汇报要求，以下功能已全部实现并可展示：

### ✅ 后端系统 (100% 完成)

1. **FastAPI 框架**
   - 完整的项目结构 (routers/, services/, schemas/, database/)
   - RESTful API 设计
   - 自动API文档生成 (Swagger UI + ReDoc)
   - CORS中间件配置

2. **Neo4j 图数据库**
   - 数据库连接驱动
   - 67门课程数据
   - 150+先修关系
   - Cypher查询封装
   - 自动初始化脚本

3. **课程知识图谱 API**
   - 获取所有课程
   - 课程详情查询
   - 课程搜索 (模糊/精确)
   - 先修关系查询
   - 学习路径生成
   - 统计信息接口

4. **IRT 知识追踪模型**
   - Item Response Theory 实现
   - 课程成绩 → 知识状态转换
   - 知识缺口分析
   - 个性化难度评估
   - 优势/薄弱领域识别

5. **智能推荐系统**
   - 基于知识状态的推荐
   - 先修要求检查
   - 匹配度评分
   - 推荐理由生成

### ✅ 前端系统 (100% 完成)

1. **3D 知识图谱可视化**
   - Three.js 球形布局
   - 67个课程节点
   - 贝塞尔曲线连接
   - 交互式导航 (旋转/缩放/平移)
   - 课程搜索定位

2. **学习路径时间线组件**
   - 时间线式布局
   - 课程状态标识 (完成/进行中/待学习)
   - 先修关系展示
   - 学分和学期统计
   - 路径导出功能

3. **知识状态雷达图组件**
   - ECharts 雷达图
   - 知识域掌握度可视化
   - 综合水平评分
   - 优势/薄弱领域展示
   - 详细进度条列表

4. **学生 Dashboard**
   - 成绩输入界面
   - 目标课程选择
   - 知识状态分析
   - 课程推荐展示
   - 学习路径规划

---

## 二、快速启动指南

### 准备工作：设置环境（仅首次运行）

```bash
# 一键设置 micromamba 环境
./setup-environment.sh

# 这会自动：
# 1. 删除旧的 smart_path 环境（如果存在）
# 2. 创建新环境（Python 3.11）
# 3. 安装所有依赖
```

### 方式一：使用启动脚本 (推荐)

```bash
# 在项目根目录执行
./start.sh
```

脚本会自动：
1. 激活 micromamba 环境
2. 检查 Neo4j 数据库（可选）
3. 启动后端服务 (http://localhost:8000)
4. 启动前端服务 (http://localhost:8080)
5. 显示访问地址

停止服务：
```bash
./stop.sh
```

### 方式二：手动启动

#### 1. 启动 Neo4j

```bash
# 使用 Docker
docker run --name neo4j -p 7474:7474 -p 7687:7687 \
  -e NEO4J_AUTH=neo4j/password -d neo4j:latest
```

#### 2. 初始化数据库

```bash
cd backend
python scripts/init_neo4j.py
```

#### 3. 启动后端

```bash
# 激活环境
micromamba activate smart_path

# 进入后端目录并启动
cd backend
python -m app.main
```

#### 4. 启动前端

```bash
cd ZhiShiTuPu
npm install
npm run serve
```

---

## 三、演示流程

### 演示 1: 后端 API 功能测试 (5分钟)

**目的**: 展示后端系统架构和核心功能

**步骤**:

1. 访问 API 文档
   - 打开 http://localhost:8000/docs
   - 展示 Swagger UI 自动生成的文档

2. 运行 API 测试脚本
   ```bash
   cd backend
   python scripts/test_api.py
   ```

3. 展示测试结果
   - ✓ 健康检查
   - ✓ 获取67门课程
   - ✓ 课程详情查询
   - ✓ 知识状态计算
   - ✓ 课程推荐
   - ✓ 学习路径生成

**要点说明**:
- FastAPI 现代化框架
- Neo4j 图数据库存储
- RESTful API 设计
- IRT 模型实现

---

### 演示 2: 3D 知识图谱 (5分钟)

**目的**: 展示前端可视化能力

**步骤**:

1. 访问 http://localhost:8080/home

2. 展示交互功能
   - 鼠标左键旋转视角
   - 鼠标右键平移
   - 滚轮缩放
   - 点击节点跳转

3. 使用搜索功能
   - 搜索 "人工智能"
   - 展示相机自动聚焦动画
   - 节点高亮效果

**要点说明**:
- Three.js 3D渲染
- 球形布局算法 (黄金角度)
- 67个节点 + 150+条边
- 流畅的交互体验

---

### 演示 3: 智能导学系统 - 知识状态分析 (10分钟)

**目的**: 展示核心创新功能 - IRT知识追踪

**步骤**:

1. 访问 http://localhost:8080/dashboard

2. 输入课程成绩 (已预填示例)
   - 高等数学: 85
   - 线性代数: 78
   - 概率论与数理统计: 82
   - 程序设计原理与C语言: 90
   - 数据结构: 88
   - 离散数学: 75
   - 计算机组成与实践: 80
   - 操作系统: 85

3. 点击 "分析知识状态"

4. 展示分析结果
   - **综合水平评分**: 71分 (0-100)
   - **知识掌握度雷达图**:
     - 编程基础: 85%
     - 算法基础: 78%
     - 数学基础: 75%
     - 计算机系统: 72%
     - 人工智能: 45%
   - **优势领域**: 编程基础、算法基础
   - **薄弱环节**: 人工智能
   - **详细进度条**: 每个知识域的具体掌握度

**要点说明**:
- IRT 模型原理 (Item Response Theory)
- 从课程成绩推断知识状态
- 多维度知识域划分
- 可视化展示 (ECharts)

**技术深度讲解** (适合答辩提问):
```python
# IRT 核心算法示例
def estimate_knowledge_state(course_scores):
    """
    1. 将成绩 (0-100) 转换为能力值 (-3, 3)
    2. 根据课程-知识域映射，聚合到各知识域
    3. 使用 sigmoid 函数归一化到 (0, 1)
    """
    ability = (score - 60) / 20  # 中心化
    mastery = sigmoid(ability)   # 归一化
    return mastery
```

---

### 演示 4: 智能课程推荐 (10分钟)

**目的**: 展示个性化推荐算法

**步骤**:

1. 在知识状态分析完成后，查看 "智能推荐课程" 区域

2. 展示推荐结果 (示例)
   ```
   推荐1: 算法分析与设计
   - 匹配度: 85%
   - 难度: 中等 (对您而言)
   - 理由: 满足先修要求，知识储备充分，难度适中

   推荐2: 模式识别与机器学习
   - 匹配度: 72%
   - 难度: 较难
   - 理由: 满足先修要求，知识储备基本满足，具有挑战性

   推荐3: 深度学习基础与导论
   - 匹配度: 45%
   - 难度: 困难
   - 理由: 需要完成2门先修课程，建议先加强基础
   ```

3. 解释推荐逻辑
   - 先修要求检查 (40%)
   - 知识准备度 (30%)
   - 最优挑战区间 (30%)

**要点说明**:
- 个性化难度评估
- 不同学生看到不同的"难度"
- 基于知识缺口的推荐
- 自动生成推荐理由

**技术细节**:
```python
# 个性化难度计算
personalized_difficulty = base_difficulty - (student_readiness - 0.5) * 2
# 基础好的学生 → 难度降低
# 基础差的学生 → 难度增加
```

---

### 演示 5: 学习路径规划 (10分钟)

**目的**: 展示智能路径生成

**步骤**:

1. 在 Dashboard 中选择目标课程
   - 例如: "人工智能"

2. 点击 "生成学习路径"

3. 展示时间线可视化
   ```
   学习路径规划
   ├── 总课程数: 8门
   ├── 总学分: 26学分
   └── 预计学期: 2学期

   第1门: 编程思维与实践 (3学分)
   状态: 待学习
   难度: 简单

   第2门: 线性代数 (4学分)
   状态: 待学习
   先修: 无

   ...

   第8门: 人工智能 (3学分)
   状态: 待学习
   先修: 数据结构、概率论、离散数学
   ```

4. 交互功能
   - 点击课程查看详情
   - 导出学习计划 (JSON)
   - 调整路径

**要点说明**:
- 基于图遍历的路径规划
- 自动过滤已完成课程
- 考虑先修依赖关系
- 优化学习序列

---

## 四、技术亮点总结

### 1. 系统架构创新
- **前后端分离**: Vue 3 + FastAPI
- **图数据库**: Neo4j 存储课程关系
- **微服务思想**: 模块化设计

### 2. 算法创新
- **IRT 知识追踪**: 首次应用于课程推荐
- **个性化难度**: 不同学生不同难度评估
- **图算法**: 学习路径优化

### 3. 可视化创新
- **3D 知识图谱**: Three.js 球形布局
- **雷达图**: 多维度知识状态
- **时间线**: 直观的学习路径

### 4. 工程质量
- **API 文档**: 自动生成 (Swagger)
- **代码规范**: 类型注解、文档字符串
- **测试脚本**: 自动化测试
- **启动脚本**: 一键启动

---

## 五、答辩准备 Q&A

### Q1: IRT模型的具体实现原理？

**A**: 我们实现了简化版的IRT模型：

1. **能力估计**: 将课程成绩 (0-100) 转换为学生能力值
   ```python
   ability = (score - 60) / 20  # 标准化到 [-3, 3]
   ```

2. **知识映射**: 每门课程映射到多个知识域
   ```python
   "数据结构" → ["算法基础", "数据组织"]
   ```

3. **聚合计算**: 计算每个知识域的平均掌握度
   ```python
   domain_mastery = sigmoid(mean(abilities))
   ```

4. **难度调整**: 根据学生知识状态调整课程难度
   ```python
   personalized_difficulty = base_difficulty - student_readiness
   ```

### Q2: 与其他推荐系统的区别？

**A**:
- **传统系统**: 基于课程相似度或协同过滤，所有学生推荐相同
- **我们的系统**:
  - 基于知识状态的个性化推荐
  - 考虑学生当前知识缺口
  - 动态调整难度评估
  - 生成可解释的推荐理由

### Q3: 数据库为什么选择Neo4j？

**A**:
- 课程之间的**先修关系**天然是图结构
- Neo4j 的 Cypher 查询语言非常适合：
  - 查找所有先修课程 (多层依赖)
  - 计算学习路径 (最短路径)
  - 图遍历算法
- 性能优势：图查询比SQL JOIN快

### Q4: 系统的可扩展性？

**A**:
- **课程数据**: 可轻松扩展到数百门课程
- **知识域**: 可自定义知识分类体系
- **推荐算法**: 服务层独立，易于替换
- **前端组件**: 组件化设计，可复用
- **API接口**: RESTful设计，易于集成

### Q5: 下一步计划？

**A**:
1. **Agent系统**: 集成LangChain，实现多步推理
2. **学习策略**: 推荐学习方法，不只是课程
3. **用户系统**: 真实的登录和数据持久化
4. **A/B测试**: 验证推荐效果
5. **移动端**: 响应式设计 → Native App

---

## 六、展示检查清单

### 展示前检查
- [ ] Neo4j 数据库已启动
- [ ] 后端服务运行正常 (http://localhost:8000/health)
- [ ] 前端服务运行正常 (http://localhost:8080)
- [ ] 网络连接正常 (ECharts CDN)
- [ ] 浏览器已打开相关页面

### 准备材料
- [ ] PPT (已有)
- [ ] 代码演示 (本系统)
- [ ] API 测试结果截图
- [ ] 系统架构图
- [ ] 技术方案文档

### 时间分配 (建议20分钟)
- 5分钟: 项目背景和创新点
- 10分钟: 系统演示
  - 2分钟: 后端API
  - 2分钟: 3D图谱
  - 3分钟: 知识追踪
  - 3分钟: 路径规划
- 5分钟: 技术细节和Q&A

---

## 七、紧急备用方案

### 如果数据库连接失败
- 前端使用硬编码数据 (已在组件中准备)
- 展示本地JSON数据

### 如果网络不可用
- ECharts 使用本地版本 (需提前下载)
- 或展示静态截图

### 如果时间不够
**优先展示**:
1. Dashboard 知识状态分析
2. 学习路径时间线
3. API 文档

**可跳过**:
1. 3D 图谱
2. API 测试脚本

---

## 八、联系方式

如有问题，请查看：
- 主 README: `/README.md`
- 后端文档: `/backend/README.md`
- 技术方案: `/技术方案文档-KTAS智能导学系统.md`

**祝展示顺利！** 🎉
